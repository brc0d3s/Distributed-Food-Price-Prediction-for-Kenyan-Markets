{% extends "base.html" %}

{% block content %}
    <h1 class="text-center mb-4">Kenya Food Price Trends</h1>
    
    <div class="row mb-4">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <div id="trendGraph" class="graph-container"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <div id="distGraph" class="graph-container"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <div id="rainfallGraph" class="graph-container"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Parse the JSON graphs and display them
        const trendGraph = {{ trend_graph | safe }};
        const distGraph = {{ dist_graph | safe }};
        const rainfallGraph = {{ rainfall_graph | safe }};
        
        Plotly.newPlot('trendGraph', trendGraph.data, trendGraph.layout);
        Plotly.newPlot('distGraph', distGraph.data, distGraph.layout);
        Plotly.newPlot('rainfallGraph', rainfallGraph.data, rainfallGraph.layout);
    </script>
{% endblock %}